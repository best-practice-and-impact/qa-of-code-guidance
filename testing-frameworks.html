<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Testing Frameworks | QA of Code</title>
  <meta name="description" content="This is a draft of QA for Coding guidance" />
  <meta name="generator" content="bookdown 0.18.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Testing Frameworks | QA of Code" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of QA for Coding guidance" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Testing Frameworks | QA of Code" />
  
  <meta name="twitter:description" content="This is a draft of QA for Coding guidance" />
  

<meta name="author" content="Joshua Halls" />


<meta name="date" content="2020-04-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Testing.html"/>
<link rel="next" href="GIT.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QA of Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-is-this-guidance-for"><i class="fa fa-check"></i><b>1.1</b> Who is this guidance for?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-its-aim"><i class="fa fa-check"></i><b>1.2</b> What is its aim?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-move-away-from-spreadsheets"><i class="fa fa-check"></i><b>1.3</b> Why move away from spreadsheets?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#why-move-from-sas-or-spss-to-an-open-source-tool"><i class="fa fa-check"></i><b>1.4</b> Why move from SAS or SPSS to an open source tool?</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#open-source"><i class="fa fa-check"></i><b>1.5</b> Open source</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#for-managers"><i class="fa fa-check"></i><b>1.6</b> For managers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html"><i class="fa fa-check"></i><b>2</b> Reproducible, Auditable, and Assured</a><ul>
<li class="chapter" data-level="2.1" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#reproducible"><i class="fa fa-check"></i><b>2.1</b> Reproducible</a></li>
<li class="chapter" data-level="2.2" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#what-is-a-reproducible-analytical-pipeline"><i class="fa fa-check"></i><b>2.2</b> What is a reproducible analytical pipeline?</a></li>
<li class="chapter" data-level="2.3" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#why-make-our-work-reproducible"><i class="fa fa-check"></i><b>2.3</b> Why make our work reproducible?</a></li>
<li class="chapter" data-level="2.4" data-path="reproducible-auditable-and-assured.html"><a href="reproducible-auditable-and-assured.html#strategies-and-guidance"><i class="fa fa-check"></i><b>2.4</b> Strategies and Guidance</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>3</b> Modelling</a><ul>
<li class="chapter" data-level="3.1" data-path="modelling.html"><a href="modelling.html#aqua-book-quality-assurance-principles-for-code"><i class="fa fa-check"></i><b>3.1</b> AQUA book quality assurance principles for code</a></li>
<li class="chapter" data-level="3.2" data-path="modelling.html"><a href="modelling.html#repeatable"><i class="fa fa-check"></i><b>3.2</b> Repeatable</a></li>
<li class="chapter" data-level="3.3" data-path="modelling.html"><a href="modelling.html#rap-levels-align-with-aqua-levels"><i class="fa fa-check"></i><b>3.3</b> RAP Levels align with AQUA Levels</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="levels-of-reproducible-analysis.html"><a href="levels-of-reproducible-analysis.html"><i class="fa fa-check"></i><b>4</b> Levels of reproducible analysis</a></li>
<li class="chapter" data-level="5" data-path="Testing.html"><a href="Testing.html"><i class="fa fa-check"></i><b>5</b> Testing</a><ul>
<li class="chapter" data-level="5.1" data-path="Testing.html"><a href="Testing.html#advantages-of-testing-your-code"><i class="fa fa-check"></i><b>5.1</b> Advantages of testing your code</a></li>
<li class="chapter" data-level="5.2" data-path="Testing.html"><a href="Testing.html#when-a-project-should-use-testing"><i class="fa fa-check"></i><b>5.2</b> When a project should use testing</a></li>
<li class="chapter" data-level="5.3" data-path="Testing.html"><a href="Testing.html#when-a-project-might-not-deploy-testing"><i class="fa fa-check"></i><b>5.3</b> When a project might not deploy testing</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="testing-frameworks.html"><a href="testing-frameworks.html"><i class="fa fa-check"></i><b>6</b> Testing Frameworks</a><ul>
<li class="chapter" data-level="6.1" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-exactly-is-a-test"><i class="fa fa-check"></i><b>6.1</b> What exactly is a test</a></li>
<li class="chapter" data-level="6.2" data-path="testing-frameworks.html"><a href="testing-frameworks.html#unit-test"><i class="fa fa-check"></i><b>6.2</b> Unit Test</a></li>
<li class="chapter" data-level="6.3" data-path="testing-frameworks.html"><a href="testing-frameworks.html#integration-tests"><i class="fa fa-check"></i><b>6.3</b> Integration Tests</a></li>
<li class="chapter" data-level="6.4" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-to-tests"><i class="fa fa-check"></i><b>6.4</b> What to tests</a></li>
<li class="chapter" data-level="6.5" data-path="testing-frameworks.html"><a href="testing-frameworks.html#references"><i class="fa fa-check"></i><b>6.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="GIT.html"><a href="GIT.html"><i class="fa fa-check"></i><b>7</b> GIT</a><ul>
<li class="chapter" data-level="7.1" data-path="GIT.html"><a href="GIT.html#git-introduction"><i class="fa fa-check"></i><b>7.1</b> Git Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="GIT.html"><a href="GIT.html#about-version-control"><i class="fa fa-check"></i><b>7.2</b> About Version Control</a></li>
<li class="chapter" data-level="7.3" data-path="GIT.html"><a href="GIT.html#what-is-git"><i class="fa fa-check"></i><b>7.3</b> What is GIT</a></li>
<li class="chapter" data-level="7.4" data-path="GIT.html"><a href="GIT.html#how-does-git-actually-work"><i class="fa fa-check"></i><b>7.4</b> How does GIT actually work</a></li>
<li class="chapter" data-level="7.5" data-path="GIT.html"><a href="GIT.html#typical-git-workflow"><i class="fa fa-check"></i><b>7.5</b> Typical Git workflow</a></li>
<li class="chapter" data-level="7.6" data-path="GIT.html"><a href="GIT.html#remote-repository"><i class="fa fa-check"></i><b>7.6</b> Remote Repository</a></li>
<li class="chapter" data-level="7.7" data-path="GIT.html"><a href="GIT.html#branching"><i class="fa fa-check"></i><b>7.7</b> Branching</a></li>
<li class="chapter" data-level="7.8" data-path="GIT.html"><a href="GIT.html#pull-request-and-issues"><i class="fa fa-check"></i><b>7.8</b> Pull Request and issues</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html"><i class="fa fa-check"></i><b>8</b> Coding Guidelines</a><ul>
<li class="chapter" data-level="8.1" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#why-useful"><i class="fa fa-check"></i><b>8.1</b> Why Useful</a></li>
<li class="chapter" data-level="8.2" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#best-practice-coding-principles"><i class="fa fa-check"></i><b>8.2</b> Best Practice: Coding Principles</a></li>
<li class="chapter" data-level="8.3" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#style-guides"><i class="fa fa-check"></i><b>8.3</b> Style Guides</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>9</b> Documentation</a><ul>
<li class="chapter" data-level="9.1" data-path="documentation.html"><a href="documentation.html#commenting"><i class="fa fa-check"></i><b>9.1</b> Commenting</a></li>
<li class="chapter" data-level="9.2" data-path="documentation.html"><a href="documentation.html#readme"><i class="fa fa-check"></i><b>9.2</b> README</a></li>
<li class="chapter" data-level="9.3" data-path="documentation.html"><a href="documentation.html#package-documentation"><i class="fa fa-check"></i><b>9.3</b> Package Documentation</a></li>
<li class="chapter" data-level="9.4" data-path="documentation.html"><a href="documentation.html#markdown-for-desk-notes"><i class="fa fa-check"></i><b>9.4</b> Markdown for desk notes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="standards.html"><a href="standards.html"><i class="fa fa-check"></i><b>10</b> Standards</a><ul>
<li class="chapter" data-level="10.1" data-path="standards.html"><a href="standards.html#standards-for-peer-review"><i class="fa fa-check"></i><b>10.1</b> Standards for Peer review</a></li>
<li class="chapter" data-level="10.2" data-path="standards.html"><a href="standards.html#standard-structures-for-projects"><i class="fa fa-check"></i><b>10.2</b> Standard Structures for Projects</a></li>
<li class="chapter" data-level="10.3" data-path="standards.html"><a href="standards.html#dependency-management"><i class="fa fa-check"></i><b>10.3</b> Dependency Management</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://gss.civilservice.gov.uk/policy-store/government-statistical-service-gss-quality-strategy/" target="blank">Government Statistical Service (GSS) Quality </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">QA of Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="testing-frameworks" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Testing Frameworks</h1>
<div id="what-exactly-is-a-test" class="section level2">
<h2><span class="header-section-number">6.1</span> What exactly is a test</h2>
<p>Testing is just checking that the expected result is the same as the actual result. Automated testing is moving from doing this in a informal ad-hoc way to an automated process which is repeatable.</p>
<p>Tests should be</p>
<ul>
<li>Fast</li>
<li>Independent</li>
<li>Repeatable (deterministic)</li>
<li>Self-validating (no manual steps)</li>
<li>Thorough (How much do you trust they cover everything?)</li>
</ul>
<p>There are common testing frameworks which make testing much simpler.</p>
<ul>
<li>For R <a href="http://r-pkgs.had.co.nz/tests.html">Testthat</a></li>
<li>For python <a href="https://docs.pytest.org/en/latest/">pytest</a></li>
</ul>
</div>
<div id="unit-test" class="section level2">
<h2><span class="header-section-number">6.2</span> Unit Test</h2>
<p>Unit testing is the cornerstone of modern software development. The purpose is to validate that each unit of the software performs as designed. A unit is the smallest testable part, such as a function. A unit test might check that for a given input you get a certain output. This gives assurance that for the tested cases your function will preform as expected. This might be checking that your code preforms as expected when given a missing value, or a negative value.
If all tests are passing then all of the cases that are tested for will work. This removes a lot of the burden of review.
Unit testing increases confidence in maintaining or changing code. This is because a test which catch if a change has introduced an error quickly. This also encourages good practice as to make unit testing possible code will need to be modular making it easier to reuse.</p>
</div>
<div id="integration-tests" class="section level2">
<h2><span class="header-section-number">6.3</span> Integration Tests</h2>
<p>Unit tests ensure that the units of code works as expected, integration tests ensure that the units work together. An example is testing to ensure that a series of functions together do what is expected. In R and Python this can be achieved using the same framework as unit tests.
There is a question about how much of your code should you test. This depends on the complexity of system and the importance. For statistics QAAD can be used as framework to gauge the appropriate level of testing. For modeling the AQUA book gives a framework for the appropriate level of QA.</p>
</div>
<div id="what-to-tests" class="section level2">
<h2><span class="header-section-number">6.4</span> What to tests</h2>
<blockquote>
<p>A QA engineer walks into a bar. Orders a beer. Orders 0 beers. Orders 99999999999 beers.
Orders a lizard. Orders -1 beers. Orders a ueicbksjdhd…</p>
</blockquote>
<p>What tests should be written to ensure that your code is preform as expected will vary depending on need, output and specific circumstances. There are some general principles to testing which will cover alot of common issues.</p>
<ul>
<li>Usual Data types
<ul>
<li>Checking that code works with expected data but also unexpected data types. Common checks would be for positive/negative values, missing values (NA/NaN), 0, very large numbers, words when there should be numbers and many more. This might involve checking that when given certain values the code <em>doesn’t</em> do something, such as produce a value when given an illogical input.</li>
</ul></li>
<li>Application Program Interface, API
<ul>
<li>This involves testing the interface to the code, which is where the user will interact with the code. As you are unable to control what they input this is a common source of errors.</li>
</ul></li>
<li>Output
<ul>
<li>For a given input, what is the function expected to return such as a data table, a list, a number etc. What kind of data structure the function is supposed to return (to make sure other functions work, if it expects a specific data structure).</li>
</ul></li>
<li>Boundary Value Analysis &amp; Equivalence Partitioning
<ul>
<li>This is an <a href="https://www.softwaretestinghelp.com/what-is-boundary-value-analysis-and-equivalence-partitioning/">approach</a> to reduce the total number of test cases to a finite set of testable test cases. It is a useful approach to making testing a structured method rather than a series of ad-hoc tests which may not cover important sources of error. Boundary analysis involves testing the extreme ends or boundaries between partitions of the input values. Equivalence Partitioning divides the input data into different equivalence data classes which can each be tested covering the full spectrum of possible values. An example is illustrative. The chart below shows an example of what to test for student grades, with certain values falling into grade classes, such as 70-79 being awarded a C grade. It would be time consuming to test every number so a Boundary Value Analysis &amp; Equivalence Partitioning approach is taken. We want to test that a number in the grade category returns that award and that values below 0 or above 100 are invalid. This reduces the number of tests which need to be written to a pragmatic and proportionate level.</li>
</ul></li>
</ul>
<p><br></p>
<p><img src="static/boundary.jpeg" /></p>
</div>
<div id="references" class="section level2">
<h2><span class="header-section-number">6.5</span> References</h2>
<ul>
<li><a href="http://www.tdda.info/test-driven-development-a-review">Testing Blog</a></li>
<li><a href="http://r-pkgs.had.co.nz/tests.html">Testthat</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Testing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="GIT.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["QA_Code.pdf", "QA_Code.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
