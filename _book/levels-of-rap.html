<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Levels of RAP | QA of Code</title>
  <meta name="description" content="This is a draft of QA for Coding guidance" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Levels of RAP | QA of Code" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of QA for Coding guidance" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Levels of RAP | QA of Code" />
  
  <meta name="twitter:description" content="This is a draft of QA for Coding guidance" />
  

<meta name="author" content="Joshua Halls" />


<meta name="date" content="2019-08-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rap.html">
<link rel="next" href="Testing.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QA of Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-is-this-guidance-for"><i class="fa fa-check"></i><b>1.1</b> Who is this guidance for?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-its-aim"><i class="fa fa-check"></i><b>1.2</b> What is its aim?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#the-problem-with-spreadsheets"><i class="fa fa-check"></i><b>1.3</b> The problem with spreadsheets</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#open-source"><i class="fa fa-check"></i><b>1.4</b> Open source</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rap.html"><a href="rap.html"><i class="fa fa-check"></i><b>2</b> RAP</a><ul>
<li class="chapter" data-level="2.1" data-path="rap.html"><a href="rap.html#why-make-our-work-reproducible"><i class="fa fa-check"></i><b>2.1</b> Why make our work reproducible?</a></li>
<li class="chapter" data-level="2.2" data-path="rap.html"><a href="rap.html#what-is-a-reproducible-analytical-pipeline"><i class="fa fa-check"></i><b>2.2</b> What is a reproducible analytical pipeline?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="levels-of-rap.html"><a href="levels-of-rap.html"><i class="fa fa-check"></i><b>3</b> Levels of RAP</a></li>
<li class="chapter" data-level="4" data-path="Testing.html"><a href="Testing.html"><i class="fa fa-check"></i><b>4</b> Testing</a><ul>
<li class="chapter" data-level="4.0.1" data-path="Testing.html"><a href="Testing.html#advantages-of-testing-your-code"><i class="fa fa-check"></i><b>4.0.1</b> Advantages of testing your code</a></li>
<li class="chapter" data-level="4.0.2" data-path="Testing.html"><a href="Testing.html#when-should-you-use-testing"><i class="fa fa-check"></i><b>4.0.2</b> When should you use testing</a></li>
<li class="chapter" data-level="4.0.3" data-path="Testing.html"><a href="Testing.html#when-should-you-not-use-testing"><i class="fa fa-check"></i><b>4.0.3</b> When should you not use testing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="testing-frameworks.html"><a href="testing-frameworks.html"><i class="fa fa-check"></i><b>5</b> Testing Frameworks</a><ul>
<li class="chapter" data-level="5.1" data-path="testing-frameworks.html"><a href="testing-frameworks.html#what-exactly-is-a-test"><i class="fa fa-check"></i><b>5.1</b> What exactly is a test</a><ul>
<li class="chapter" data-level="5.1.1" data-path="testing-frameworks.html"><a href="testing-frameworks.html#unit-test"><i class="fa fa-check"></i><b>5.1.1</b> Unit Test</a></li>
<li class="chapter" data-level="5.1.2" data-path="testing-frameworks.html"><a href="testing-frameworks.html#integration-tests"><i class="fa fa-check"></i><b>5.1.2</b> Integration Tests</a></li>
<li class="chapter" data-level="5.1.3" data-path="testing-frameworks.html"><a href="testing-frameworks.html#test-driven-development"><i class="fa fa-check"></i><b>5.1.3</b> Test Driven Development</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="testing-frameworks.html"><a href="testing-frameworks.html#references"><i class="fa fa-check"></i><b>5.2</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="GIT.html"><a href="GIT.html"><i class="fa fa-check"></i><b>6</b> GIT</a><ul>
<li class="chapter" data-level="6.1" data-path="GIT.html"><a href="GIT.html#git-introduction"><i class="fa fa-check"></i><b>6.1</b> Git Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="GIT.html"><a href="GIT.html#about-version-control"><i class="fa fa-check"></i><b>6.2</b> About Version Control</a></li>
<li class="chapter" data-level="6.3" data-path="GIT.html"><a href="GIT.html#what-is-git"><i class="fa fa-check"></i><b>6.3</b> What is GIT</a></li>
<li class="chapter" data-level="6.4" data-path="GIT.html"><a href="GIT.html#how-does-git-actually-work"><i class="fa fa-check"></i><b>6.4</b> How does GIT actually work</a></li>
<li class="chapter" data-level="6.5" data-path="GIT.html"><a href="GIT.html#typical-git-workflow"><i class="fa fa-check"></i><b>6.5</b> Typical Git workflow</a></li>
<li class="chapter" data-level="6.6" data-path="GIT.html"><a href="GIT.html#remote-repository"><i class="fa fa-check"></i><b>6.6</b> Remote Repository</a></li>
<li class="chapter" data-level="6.7" data-path="GIT.html"><a href="GIT.html#branching"><i class="fa fa-check"></i><b>6.7</b> Branching</a></li>
<li class="chapter" data-level="6.8" data-path="GIT.html"><a href="GIT.html#pull-request-and-issues"><i class="fa fa-check"></i><b>6.8</b> Pull Request and issues</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html"><i class="fa fa-check"></i><b>7</b> Coding Guidelines</a><ul>
<li class="chapter" data-level="7.1" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#why-useful"><i class="fa fa-check"></i><b>7.1</b> Why Useful</a></li>
<li class="chapter" data-level="7.2" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#best-practice-coding-principles"><i class="fa fa-check"></i><b>7.2</b> Best Practice: Coding Principles</a></li>
<li class="chapter" data-level="7.3" data-path="Coding-Guidelines.html"><a href="Coding-Guidelines.html#style-guides"><i class="fa fa-check"></i><b>7.3</b> Style Guides</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>8</b> Documentation</a><ul>
<li class="chapter" data-level="8.1" data-path="documentation.html"><a href="documentation.html#commenting"><i class="fa fa-check"></i><b>8.1</b> Commenting</a></li>
<li class="chapter" data-level="8.2" data-path="documentation.html"><a href="documentation.html#readme"><i class="fa fa-check"></i><b>8.2</b> README</a></li>
<li class="chapter" data-level="8.3" data-path="documentation.html"><a href="documentation.html#package-documentation"><i class="fa fa-check"></i><b>8.3</b> Package Documentation</a></li>
<li class="chapter" data-level="8.4" data-path="documentation.html"><a href="documentation.html#markdown-for-desk-notes"><i class="fa fa-check"></i><b>8.4</b> Markdown for desk notes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="other.html"><a href="other.html"><i class="fa fa-check"></i><b>9</b> Other</a><ul>
<li class="chapter" data-level="9.1" data-path="other.html"><a href="other.html#standards-for-peer-review"><i class="fa fa-check"></i><b>9.1</b> Standards for Peer review</a></li>
<li class="chapter" data-level="9.2" data-path="other.html"><a href="other.html#standard-structures-for-projects"><i class="fa fa-check"></i><b>9.2</b> Standard Structures for Projects</a></li>
<li class="chapter" data-level="9.3" data-path="other.html"><a href="other.html#dependency-management"><i class="fa fa-check"></i><b>9.3</b> Dependency Management</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://gss.civilservice.gov.uk/policy-store/government-statistical-service-gss-quality-strategy/" target="blank">Government Statistical Service (GSS) Quality </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">QA of Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="levels-of-rap" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Levels of RAP</h1>
<p><img src="static/RAP_Levels.jpg" /></p>
<p>RAP can be viewed as a layered process. This section of the guidance will go through many of the steps. You might start off with a basic coding project and add additional levels of enhancement to the project as you go. This layered approach gives a framework for progressing through the different levels of sophistication that are possible. How far you get will depend on the skill level in your team, the infrastructure available in your department and pragmatic choices about whether the final stages are proportionately necessary for your project. For smaller pieces of work, the most sophisticated levels might be too time consuming to put in place, with minimal benefit. However for regular work that you are going to repeat, the more levels you can build the more assurance you will have that your code is performing as you expect it to and your outputs are as you intended. Deciding how far to go should be pragmatic and proportionate. You may think about a minimal level that you hope to achieve before the code is put into production, but this level will vary depending on your needs.</p>
<p>Many projects consists of one or more ad hoc scripts to do a number of steps such as data validation or producing tables. This is the start of the RAP process.</p>
<p>The second step is to organize your code into a clear structure. The layout will depend on the project and the tools but in general this will involve separating the code into sections that do particular tasks such as modifying the data or running validation checks. This is an opportunity to start applying coding standards if you are not following them, this will make the process easier.</p>
<p>The next step is to add version control. Version control software such as git and cloud-based code repositories such as GitHub or Gitlab, allow changes to the code to be recorded and changes to also be rolled back or returned to a previous state. This provides reassurance in that any change can be reversed allowing new methods or approaches to be tried without fear that this will break the current process. This also automatically builds documentation into the production process and creates a record of what has been done and why which can be audited in future. This is covered in depth in chapter 5 on <a href="GIT.html#GIT">GIT</a>.</p>
<p>Another step is to re write the code into reusable functions. Functions are organized reusable piece of code solving a specific task. Functions help to keep code clean and allow code re-usability. Functions are good practice over copy and pasting code to achieve he same goal. This is because functions can be given useful and informative names, itâ€™s eliminates mistakes when copy and pasting and importantly means that when requirements change you only need to change one function rather than numerous sections. Functions make projects more cleaner and maintainable.</p>
<p>One of the difficulties that can arise in more manual methods of production is that there can be many different files separated out over different areas all relating to different but interdependent stages of the process. Each needs to be documented and kept up to date. Packaging your code can help solve this problem and gives the project a defined structure. The documentation is part of the package and closely intertwined with the code which aids in institutional knowledge transfer.</p>
<blockquote>
<p>In R, the fundamental unit of shareable code is the package. A package bundles together code, data, documentation, and tests, and is easy to share with others.
- <a href="https://r-pkgs.org/intro.html">Hadley Wickham</a></p>
</blockquote>
<p>Throughout this process testing should be implemented when pragmatic and proportionate. This is gone into more detail in chapter 4 on <a href="Testing.html#Testing">Testing</a>. These last stages involves ensuring that the package is fully tested and these are integrated into the version control system ensuring that all tests are run automatically. This gives confidence that the package tests have always been run and notify on the version control site whether tests are failing. Code coverage can also be used letting users know what percent of the package is covered by tests.</p>
<p><a href="https://www.isdscotland.org/About-ISD/Methodologies/_docs/Reproducible_Analytical_Pipelines_paper_v1.4.pdf">Public Health &amp; Intelligence Reproducible Analytical Pipelines</a></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="rap.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Testing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["QA_Code.pdf", "QA_Code.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
