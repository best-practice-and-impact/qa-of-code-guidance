
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Managing analytical code development &#8212; Quality Assurance of Code for Analysis and Research</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/accessibility.css?v=6e02104c" />
    <link rel="stylesheet" type="text/css" href="_static/logo.css?v=1c56504a" />
    <link rel="stylesheet" type="text/css" href="_static/admonitions.css?v=1956eba1" />
    <link rel="stylesheet" type="text/css" href="_static/markdown_within_tabs.css?v=d7e1104e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'managers_guide';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Code quality assurance checklists" href="checklists.html" />
    <link rel="prev" title="Glossary of terms" href="glossary.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/duck_book_logo.svg" class="logo__image only-light" alt="Quality Assurance of Code for Analysis and Research - Home"/>
    <script>document.write(`<img src="_static/duck_book_logo.svg" class="logo__image only-dark" alt="Quality Assurance of Code for Analysis and Research - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary of terms</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Managing analytical code development</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="checklists.html">Code quality assurance checklists</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="checklist_lower.html">Lower quality assurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="checklist_moderate.html">Moderate quality assurance</a></li>
<li class="toctree-l2"><a class="reference internal" href="checklist_higher.html">Higher quality assurance</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Guidance</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="principles.html">Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="modular_code.html">Modular code</a></li>
<li class="toctree-l1"><a class="reference internal" href="readable_code.html">Readable code</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_structure.html">Structuring your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_documentation.html">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_documentation.html">Project documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_control.html">Version control</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data management</a></li>
<li class="toctree-l1"><a class="reference internal" href="peer_review.html">Peer review</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_code.html">Testing code</a></li>
<li class="toctree-l1"><a class="reference internal" href="continuous_integration.html">Automating code quality assurance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="learning.html">Learning resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/best-practice-and-impact/qa-of-code-guidance" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/best-practice-and-impact/qa-of-code-guidance/edit/main/book/managers_guide.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/best-practice-and-impact/qa-of-code-guidance/issues/new?title=Issue%20on%20page%20%2Fmanagers_guide.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/managers_guide.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Managing analytical code development</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-quality-assurance-proportional-to-risk">Apply quality assurance proportional to risk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design-quality-analysis">Design quality analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-have-you-chosen-to-do-the-analysis-this-way">Why have you chosen to do the analysis this way?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-are-you-storing-input-data">How are you storing input data?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-will-you-keep-track-of-changes-to-the-code-and-why-they-were-made">How will you keep track of changes to the code and why they were made?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assure-throughout-development">Quality assure throughout development</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-is-your-code-structured">How is your code structured?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-easy-is-it-to-adjust-the-way-that-the-analysis-runs">How easy is it to adjust the way that the analysis runs?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-is-the-analysis-documented">How is the analysis documented?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-the-dependencies">What are the dependencies?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-assumptions-does-the-analysis-make">What assumptions does the analysis make?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-has-peer-review-been-done">How has peer review been done?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-have-you-tested-the-code">How have you tested the code?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-the-analysis-fails-to-run">What happens when the analysis fails to run?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-the-analysis-result-differ-from-the-previous-analysis">How does the analysis result differ from the previous analysis?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-we-further-improve-the-quality-of-the-analysis">How can we further improve the quality of the analysis?</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="managing-analytical-code-development">
<h1>Managing analytical code development<a class="headerlink" href="#managing-analytical-code-development" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is a draft, while we make sure that it meets user needs.</p>
<p>It would benefit from case studies that demonstrate how to decide what level of quality assurance a piece of analysis requires.</p>
<p>Please get in touch with feedback or case studies to support the guidance
<a class="reference external" href="https://github.com/best-practice-and-impact/qa-of-code-guidance/issues">by creating a GitHub Issue</a>
or emailing us at <a class="reference external" href="mailto:ASAP&#37;&#52;&#48;ons&#46;gov&#46;uk">emailing us</a>.</p>
</div>
<p>This section of the guidance targets those who manage data analysis, science and engineering work in government
or those acting as product owners for analytical products.</p>
<p>It aims to help you support your team to apply the good quality assurance practices described in the wider
<a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html">Quality assurance of code for analysis and research guidance</a>.
We refer to processes that apply these good practices as a reproducible analytical pipelines (RAP).</p>
<p>Before applying this guidance, you should have a basic awareness of the tools and
techniques used to do quality analysis as code - the <a class="reference external" href="https://learninghub.ons.gov.uk/course/view.php?id=1236">introduction to RAP course</a> outlines these.
You should also be aware of any specific tools and platforms that are used in your department.</p>
<p><a class="reference external" href="https://www.gov.uk/service-manual/service-standard">The Government Service Standard</a> outlines best practices for creating public services, which include analysis.
You should use this when designing and managing the development of analysis as code.</p>
<section id="apply-quality-assurance-proportional-to-risk">
<h2>Apply quality assurance proportional to risk<a class="headerlink" href="#apply-quality-assurance-proportional-to-risk" title="Link to this heading">#</a></h2>
<p>As the <a class="reference external" href="https://www.gov.uk/government/publications/the-aqua-book-guidance-on-producing-quality-analysis-for-government">the Aqua book</a> notes,
the quality assurance we apply to our analysis should be proportionate to the complexity and risk that the analysis carries.</p>
<p>When managing analytical work, you should not need an in-depth understanding of the analysis code to trust that it is working correctly.
However, you should be confident that the team who built the analysis process has taken an appropriate approach given the user need,
and that proportionate quality assurance is being applied to the development and running of the analysis.</p>
<p>You should work with your team to decide which quality assurance practices are necessary given each piece of analysis.
You might find our <a class="reference internal" href="checklists.html"><span class="std std-doc">Code quality assurance checklists</span></a> useful templates for defining the target level of assurance.
When possible, you should define the target assurance level before starting the analysis.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>While quality assurance must be applied relative to the risk and complexity of the analysis, you must consider the skills of your team.
It will take time to learn to apply the necessary good practices, so you should support their gradual development of these skills.</p>
<p><a class="reference external" href="https://learninghub.ons.gov.uk/mod/page/view.php?id=8699">The RAP learning pathway</a> provides training in good practices.
You can use the wider <a class="reference external" href="https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html">Quality assurance of code for analysis and research guidance</a>
as a reference to apply these practices to analysis.
You should identify where each analyst is along the pathway - they should look to develop the next skill in the pathway and apply this,
rather than attempting to adopt them all at once.</p>
<p>Note that it is important to maintain technical skills in the analysis team for sustainability, to ensure that the analysis can be understood, updated, and maintained.</p>
</div>
<p>Despite the initial cost of developing technical skills,
<a class="reference external" href="https://www.devops-research.com/research.html">evidence shows that applying good practices increases the efficiency of code development and maintainability of the code</a>.
There are number of case studies that describe how
<a class="reference external" href="https://analysisfunction.civilservice.gov.uk/support/reproducible-analytical-pipelines/rap-case-studies/">good quality assurance practices have improved government analysis</a>.</p>
<p>Not following good practices creates <a class="reference external" href="https://en.wikipedia.org/wiki/Technical_debt">technical debt</a>, which slows down further development of the analysis.
This can be necessary for delivering to short deadlines, but you should set aside time to address this for continued development of the analysis.</p>
<p>Where quality assurance of the code doesn’t meet your target level of assurance,
for example where there is limited time or skill,
then you should supplement this with more in-depth assurance of outputs.
This might include dual running the analysis with an independent system and consistency checks across the output data.</p>
<p>The remaining parts of this section provide questions that aim to help you assess the quality assurance practices that your team are applying in their analysis.</p>
</section>
<section id="design-quality-analysis">
<h2>Design quality analysis<a class="headerlink" href="#design-quality-analysis" title="Link to this heading">#</a></h2>
<p>These questions aim to help you assess the design decisions at the beginning of the analysis.</p>
<section id="why-have-you-chosen-to-do-the-analysis-this-way">
<h3>Why have you chosen to do the analysis this way?<a class="headerlink" href="#why-have-you-chosen-to-do-the-analysis-this-way" title="Link to this heading">#</a></h3>
<p>Understanding user needs ensures that the analysis is valuable.</p>
<ul class="simple">
<li><p>You should have a plan to consult users at the beginning and throughout the development process, to ensure that you meet their needs.</p></li>
<li><p>The methodology and data should be suitable for the question being asked.</p></li>
<li><p>More than one person should develop the analysis to allow pair programming, peer review, and mentoring. This increases the sustainability of analysis.</p></li>
<li><p>You should use open-source analysis tools to carry out the analysis, wherever possible.
Your team should be able to explain why they have chosen the analysis tools and why they are confident that they are fit for purpose.</p></li>
</ul>
</section>
<section id="how-are-you-storing-input-data">
<h3>How are you storing input data?<a class="headerlink" href="#how-are-you-storing-input-data" title="Link to this heading">#</a></h3>
<p>Versioning input data ensures that we can reproduce our analysis.</p>
<ul class="simple">
<li><p>You should version input data so that you can reproduce analysis outputs.</p></li>
<li><p>You should store data in an open format (e.g. CSV or ODS), not formats that are restricted to proprietary software like SAS and Stata.</p></li>
<li><p>You should store large or complex datasets in a database.</p></li>
<li><p>You should monitor the quality of data, following <a class="reference external" href="https://www.gov.uk/government/publications/the-government-data-quality-framework/the-government-data-quality-framework">the government data quality framework</a>.</p></li>
</ul>
</section>
<section id="how-will-you-keep-track-of-changes-to-the-code-and-why-they-were-made">
<h3>How will you keep track of changes to the code and why they were made?<a class="headerlink" href="#how-will-you-keep-track-of-changes-to-the-code-and-why-they-were-made" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="version_control.html"><span class="std std-doc">Version control</span></a> of changes provides an audit trail.</p>
<ul class="simple">
<li><p>You should version control the code, documentation, and peer reviews. Git software is most commonly used for this.</p></li>
<li><p>You should develop the code on an open source code platform, like GitHub. This transparency increases your users trust in the analysis and promotes collaboration and re-use.</p></li>
<li><p>You should have a clear record of every change and who made it.</p></li>
<li><p>Each change should be linked to a reason, for example, a new requirement or an issue in the existing code.</p></li>
<li><p>You should store reviews of changes with the version of the analysis that was reviewed.</p></li>
</ul>
</section>
</section>
<section id="quality-assure-throughout-development">
<h2>Quality assure throughout development<a class="headerlink" href="#quality-assure-throughout-development" title="Link to this heading">#</a></h2>
<p>These questions can be used throughout the development of the analysis,
to assess how the team are progressing towards the target quality assurance practices that you have agreed.</p>
<section id="how-is-your-code-structured">
<h3>How is your code structured?<a class="headerlink" href="#how-is-your-code-structured" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="modular_code.html"><span class="std std-doc">Modular code</span></a> makes it easier to understand, update and reuse the code.</p>
<ul class="simple">
<li><p>You should write logic as functions, so that it can be reused consistently and tested.</p></li>
<li><p>You should group related functions together in the same file, so that it is easy to find them.</p></li>
<li><p>You should clearly separate logic with different responsibilities (e.g., reading data versus transforming data).</p></li>
<li><p>When code can be reused for other analyses, you should store and share this as a package.</p></li>
</ul>
</section>
<section id="how-easy-is-it-to-adjust-the-way-that-the-analysis-runs">
<h3>How easy is it to adjust the way that the analysis runs?<a class="headerlink" href="#how-easy-is-it-to-adjust-the-way-that-the-analysis-runs" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="configuration.html"><span class="std std-doc">Configuration files</span></a> allow you to change the way the code runs without editing the code itself.</p>
<ul class="simple">
<li><p>You should store parameters for the code that often change between runs in separate configuration files.</p></li>
<li><p>Things that often change in analysis code include input and output file paths, reference dates and model parameters.</p></li>
</ul>
</section>
<section id="how-is-the-analysis-documented">
<h3>How is the analysis documented?<a class="headerlink" href="#how-is-the-analysis-documented" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="code_documentation.html"><span class="std std-doc">Code documentation</span></a> is essential for business continuity and sustainability.</p>
<ul class="simple">
<li><p>You should document every function in the code, so it is clear what each function is supposed to do.</p></li>
<li><p>Function documentation should include what goes in and what comes out of each function.</p></li>
<li><p>Where others will run or re-used the code, documentation should include usage examples and test data.</p></li>
</ul>
</section>
<section id="what-are-the-dependencies">
<h3>What are the dependencies?<a class="headerlink" href="#what-are-the-dependencies" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="project_documentation.html"><span class="std std-doc">Project documentation</span></a> ensures that others can reproduce our analysis.</p>
<ul class="simple">
<li><p>You should provide user instructions for running the analysis.</p></li>
<li><p>You should document software and package versions with the code.
Typically, you record package versions using <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> and <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> files (Python) or a <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file (R).</p></li>
<li><p>Code should not be dependent on a specific computer to run. Running it on a colleague’s system can help to check this.</p></li>
<li><p>When you run the same analysis multiple times or on different systems, it should give reproducible outcomes.</p></li>
<li><p>Container systems, like Docker, help to create reproducible environments to run code.</p></li>
</ul>
</section>
<section id="what-assumptions-does-the-analysis-make">
<h3>What assumptions does the analysis make?<a class="headerlink" href="#what-assumptions-does-the-analysis-make" title="Link to this heading">#</a></h3>
<p>Transparency of our analysis increases trust.</p>
<ul class="simple">
<li><p>You should record assumptions and caveats of the analysis close to the code.</p></li>
<li><p>You must communicate these to users when releasing results from the analysis.</p></li>
</ul>
</section>
<section id="how-has-peer-review-been-done">
<h3>How has peer review been done?<a class="headerlink" href="#how-has-peer-review-been-done" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="peer_review.html"><span class="std std-doc">Peer review</span></a> increases the quality of our analysis and transfers skills and knowledge.</p>
<ul class="simple">
<li><p>Technical colleagues should conduct internal peer reviews of each change to the code.
This will identify issues early on and makes the review process more manageable than reviewing only the final analysis.</p></li>
<li><p>Peer review should follow a standard procedure, so that reviews are consistent. Reviewers should check that each change follows the agreed good practices.</p></li>
<li><p>You should evidence that peer reviews are acted on and how. When issues or concerns are raised, they should be addressed before the analysis is used.</p></li>
<li><p>If the product is high risk,  you should arrange and conduct external peer review.</p></li>
</ul>
</section>
<section id="how-have-you-tested-the-code">
<h3>How have you tested the code?<a class="headerlink" href="#how-have-you-tested-the-code" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="testing_code.html"><span class="std std-doc">Testing</span></a> assures us that the code is working correctly.</p>
<ul class="simple">
<li><p>Testing means making sure that the code produces the right outputs for realistic example input data.</p></li>
<li><p>You should apply automated ‘unit’ testing to each function to ensure that code continues to work after future changes.</p></li>
<li><p>You should test each function and the end-to-end analysis using minimal, realistic data.</p></li>
<li><p>Your testing should be more extensive on the most important or complex parts of the code. However, ideally you would test every single function.</p></li>
<li><p>Tests should account for realistic cases, which might include missing data, zeroes, infinities, negative numbers, wrong data types, and invalid inputs.</p></li>
<li><p>Reviewers should sign-off that there is enough testing to assure that the code is working as expected.</p></li>
<li><p>Each time you identify an error in the code,you should add a test to assure that the error does not reoccur.</p></li>
</ul>
</section>
<section id="what-happens-when-the-analysis-fails-to-run">
<h3>What happens when the analysis fails to run?<a class="headerlink" href="#what-happens-when-the-analysis-fails-to-run" title="Link to this heading">#</a></h3>
<p>Recording and reporting errors provides an audit trail and makes it easier for users to correctly use the code.</p>
<ul class="simple">
<li><p>When code fails to run, it should provide informative error messages to describe the problem.</p></li>
<li><p>If another team will operate the code, error messages should help users to correct the problem.</p></li>
<li><p>Errors or warnings might also be raised when data validation is not met.</p></li>
<li><p>When code is run in production, errors should be recorded or logged.</p></li>
</ul>
</section>
<section id="how-does-the-analysis-result-differ-from-the-previous-analysis">
<h3>How does the analysis result differ from the previous analysis?<a class="headerlink" href="#how-does-the-analysis-result-differ-from-the-previous-analysis" title="Link to this heading">#</a></h3>
<p>Comparing analysis to previous results can help to ensure reproducibility and identify errors.</p>
<ul class="simple">
<li><p>When repeating analysis over time, you should compare results between analyses.
Large differences in the outcome of the results may indicate an issue with the analysis process.</p></li>
<li><p>When developing code to replace legacy analysis, you may wish to parallel this with the new method. This will allow you to identify differences and improvements.</p></li>
</ul>
</section>
<section id="how-can-we-further-improve-the-quality-of-the-analysis">
<h3>How can we further improve the quality of the analysis?<a class="headerlink" href="#how-can-we-further-improve-the-quality-of-the-analysis" title="Link to this heading">#</a></h3>
<p>Code quality improves over time, as your team learn more about good practices.</p>
<ul class="simple">
<li><p>The team should be aiming to meet the agreed assurance level, but should also consider which practices could be applied next to improve the code beyond this.</p></li>
<li><p>You should review training needs in your team and allow time for continuous personal development of these practices.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="glossary.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Glossary of terms</p>
      </div>
    </a>
    <a class="right-next"
       href="checklists.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Code quality assurance checklists</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-quality-assurance-proportional-to-risk">Apply quality assurance proportional to risk</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design-quality-analysis">Design quality analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-have-you-chosen-to-do-the-analysis-this-way">Why have you chosen to do the analysis this way?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-are-you-storing-input-data">How are you storing input data?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-will-you-keep-track-of-changes-to-the-code-and-why-they-were-made">How will you keep track of changes to the code and why they were made?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quality-assure-throughout-development">Quality assure throughout development</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-is-your-code-structured">How is your code structured?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-easy-is-it-to-adjust-the-way-that-the-analysis-runs">How easy is it to adjust the way that the analysis runs?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-is-the-analysis-documented">How is the analysis documented?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-the-dependencies">What are the dependencies?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-assumptions-does-the-analysis-make">What assumptions does the analysis make?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-has-peer-review-been-done">How has peer review been done?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-have-you-tested-the-code">How have you tested the code?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-happens-when-the-analysis-fails-to-run">What happens when the analysis fails to run?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-the-analysis-result-differ-from-the-previous-analysis">How does the analysis result differ from the previous analysis?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-can-we-further-improve-the-quality-of-the-analysis">How can we further improve the quality of the analysis?</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>Analysis Function - Analytical Standards and Pipelines hub</p><p>This is a living document, please help use to make it grow by providing any feedback <a href='mailto:ASAP@ons.gov.uk'>by email</a> or via the <a href='https://github.com/best-practice-and-impact/qa-of-code-guidance'>GitHub repository</a>.
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>